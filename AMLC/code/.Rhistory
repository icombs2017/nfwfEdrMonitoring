mutate_at(c("Site"), as.factor) %>%
select(-c("remove"))
tagAcer <- tagData %>%
filter(Species == "Acropora cervicornis") %>%
droplevels() %>%
tidyr::separate(Site, into = c("Site", "remove"), extra = 'merge', sep = 5) %>%
mutate_at(c("Site"), as.factor) %>%
select(-c("remove"))
tagData2 <- rbind(tagApal, tagAcer)
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tag1 <- subset(tag, TagLab.Class.name != "Empty") %>% droplevels()
View(tagData2)
View(tagData)
View(tagData2)
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tag1 <- subset(tagData2, TagLab.Class.name != "Empty") %>% droplevels()
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tag1 <- subset(tagData2, TagLab.Class.name != "Empty") %>% droplevels()
View(tagData2)
View(tagData1)
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tag1 <- subset(tagData1, TagLab.Class.name != "Empty") %>% droplevels()
tag1 <- subset(tagData1, TagLab Class name != "Empty") %>% droplevels()
knitr::opts_chunk$set(warning = FALSE, fig.align = 'left')
library(magrittr)
if (!require("pacman")) install.packages("pacman")
pacman::p_load("ggplot2","officer","ggpubr", "rcompanion", "RColorBrewer", "patchwork", "magrittr","reshape2", "stringr", "plyr", "dplyr", "flextable", "tidyr", "tibble", "vegan", "paletteer", "purrr", "readr")
read_plus <- function(flnm) {
read_csv(flnm) %>%
mutate_all(as.character) %>%
mutate(filename = flnm)
}
tagData1 <-
list.files(path = "../../data/TagLab", pattern = "*.csv",
full.names = T) %>%
map_df(~read_plus(.)) %>%
as.tibble()
tagData <- tagData1 %>%
tidyr::separate(filename, into=c("remove", "Site"),extra = 'merge',sep = 18) %>%
tidyr::separate(Site, into=c("Site", "remove"),sep = "TagLab.csv") %>%
dplyr::select(-c(remove)) %>%
mutate_if(is.character, str_replace_all, pattern = "_", replacement = "-") %>%
rename(Species = `TagLab Class name`, Date = `TagLab Date`, Area = `TagLab Area`) %>%
mutate_at(c("Date", "Site", "Species"), as.factor) %>%
mutate_at(c("Area"), as.numeric) %>%
select(Date, Site, Species, Area) %>%
group_by(Date, Site) %>%
filter(Species == c("Acropora cervicornis", "Acropora palmata")) %>%
droplevels()
tagApal <- tagData %>%
filter(Species == "Acropora palmata") %>%
droplevels() %>%
tidyr::separate(Site, into = c("Site", "remove"), extra = 'merge', sep = 7) %>%
mutate_at(c("Site"), as.factor) %>%
select(-c("remove"))
tagAcer <- tagData %>%
filter(Species == "Acropora cervicornis") %>%
droplevels() %>%
tidyr::separate(Site, into = c("Site", "remove"), extra = 'merge', sep = 5) %>%
mutate_at(c("Site"), as.factor) %>%
select(-c("remove"))
tagData2 <- rbind(tagApal, tagAcer)
?subset
names(tagData1)
names(tagData)
str(TagData$Species)
str(tagData$Species)
levels(tagData$Species)
tagData2
levels(tagData2$Site)
levels(tagData2$Species)
tagStack1 <- ggplot(tagData2, aes(x = treatment, y = abundance, fill = TagLab.Class.name))+
geom_bar(stat = 'identity', color = 'black', position = position_stack(reverse = TRUE), alpha = 0.8)+
ylim(0,100)+
labs(y = "Relative Abundance (%)", fill = "Class", title = "Relative Species Abundance")+
scale_fill_manual(values = myColors)+
facet_grid(.~ time)
tagStack1
vpiData2.bis <- vpiData2.apal %>%
filter(Site == c("T-AP-5", "T-AP-10"))
vpiData2.apal
vpiData2.bis <- vpiData2.apal %>%
filter(Site %in% c("T-AP-5", "T-AP-10"))
View(vpiData2.bis)
# myColors <- paletteer_c("harrypotter::gryffindor", 6, direction = 1 )
#myColors <- paletteer_c("pals::ocean.balance", 6, direction = 1)
#Color Palette using a selection of Mote's preferred colors
# myColors <- c("#d2232a", "#ca581f", "#f26522", "#85b034", "#00ae9d", "#78779e")
# Using this just to plot the top 2% of species
vpiData3.bis <- vpiData2.bis %>%
filter(abundance > 1) %>%
droplevels() %>%
arrange(desc(abundance))
# vpiData2.1 <- vpiData2 %>% filter(class != "Bare Substrate")
# vpiData1$class = factor(vpiData1$class, levels(vpiData1$class)[c(2,6,3,4,5,1)])
vpiStackC<- ggplot(vpiData3.bis, aes(x = timePoint, y = abundance))+
geom_bar(aes(fill = factor(class)), position = position_stack(reverse = TRUE), stat = 'identity', color = 'black', alpha = 0.8)+
ylim(0,100)+
labs(y = "Relative Abundance (%)", fill = "Class", title = "Relative Species Abundance > 1%")+
scale_x_discrete(labels = c("Baseline", "12 Month"))+
scale_y_reverse()+
facet_wrap(.~Site, scales = 'free')
vpiStackC <- vpiStackC+theme(
axis.text.x = element_text(size = 15, colour = "black", vjust = 0.5, hjust = 0.5, face= "bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size = 40, face = "bold"),
axis.text.y = element_text(colour = "black", size = 30, face = "bold"),
legend.title = element_text(size = 40, face = "bold"),
legend.text = element_text(size = 36, face = "bold", colour = "black"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid', colour = "white"),
panel.background = element_rect(fill = '#F5F5F5'),
plot.title = element_text(size = 40, face = "bold"),
axis.line = element_line(colour = "black"),
axis.ticks = element_line(color="black"),
text = element_text(size=40, color="black"),
legend.position = "right")
vpiStackC
# ggsave("C:/Users/gdalonzo/Documents/AMLC/figures/VPIstackplot.png", plot = vpiStack, width = 20, height = 15, units = 'in', dpi = 600)
# ggsave("C:/Users/gdalonzo/Documents/AMLC/figures", plot = vpiStack, width = 20, height = 15, units = "in", dpi = 600)
# myColors <- paletteer_c("harrypotter::gryffindor", 6, direction = 1 )
#myColors <- paletteer_c("pals::ocean.balance", 6, direction = 1)
#Color Palette using a selection of Mote's preferred colors
# myColors <- c("#d2232a", "#ca581f", "#f26522", "#85b034", "#00ae9d", "#78779e")
# Using this just to plot the top 2% of species
vpiData3.bis <- vpiData2.bis %>%
filter(abundance > 1) %>%
droplevels() %>%
arrange(desc(abundance))
# vpiData2.1 <- vpiData2 %>% filter(class != "Bare Substrate")
# vpiData1$class = factor(vpiData1$class, levels(vpiData1$class)[c(2,6,3,4,5,1)])
vpiStackC<- ggplot(vpiData3.bis, aes(x = timePoint, y = abundance))+
geom_bar(aes(fill = factor(class)), position = position_stack(reverse = TRUE), stat = 'identity', color = 'black', alpha = 0.8)+
ylim(0,100)+
labs(y = "Relative Abundance (%)", fill = "Class", title = "Relative Species Abundance > 1%")+
scale_x_discrete(labels = c("Baseline", "12 Month"))+
#scale_y_reverse()+
facet_wrap(.~Site, scales = 'free_x')
vpiStackC <- vpiStackC+theme(
axis.text.x = element_text(size = 15, colour = "black", vjust = 0.5, hjust = 0.5, face= "bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size = 40, face = "bold"),
axis.text.y = element_text(colour = "black", size = 30, face = "bold"),
legend.title = element_text(size = 40, face = "bold"),
legend.text = element_text(size = 36, face = "bold", colour = "black"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid', colour = "white"),
panel.background = element_rect(fill = '#F5F5F5'),
plot.title = element_text(size = 40, face = "bold"),
axis.line = element_line(colour = "black"),
axis.ticks = element_line(color="black"),
text = element_text(size=40, color="black"),
legend.position = "right")
vpiStackC
# ggsave("C:/Users/gdalonzo/Documents/AMLC/figures/VPIstackplot.png", plot = vpiStack, width = 20, height = 15, units = 'in', dpi = 600)
# ggsave("C:/Users/gdalonzo/Documents/AMLC/figures", plot = vpiStack, width = 20, height = 15, units = "in", dpi = 600)
ggsave("C:/Users/gdalonzo/Documents/AMLC/figures/apalBISstackplot.png", plot = vpiStack, width = 20, height = 15, units = 'in', dpi = 600)
ggsave("../figures/acerStackPlot2.png", plot = vpiStack, width = 20, height = 15, units = 'in', dpi = 600)
ggsave("../figures/apalBISStackPlot2.png", plot = vpiStack, width = 20, height = 15, units = 'in', dpi = 600)
# myColors <- paletteer_c("harrypotter::gryffindor", 6, direction = 1 )
#myColors <- paletteer_c("pals::ocean.balance", 6, direction = 1)
#Color Palette using a selection of Mote's preferred colors
# myColors <- c("#d2232a", "#ca581f", "#f26522", "#85b034", "#00ae9d", "#78779e")
# Using this just to plot the top 2% of species
vpiData3.bis <- vpiData2.bis %>%
filter(abundance > 1) %>%
droplevels() %>%
arrange(desc(abundance))
# vpiData2.1 <- vpiData2 %>% filter(class != "Bare Substrate")
# vpiData1$class = factor(vpiData1$class, levels(vpiData1$class)[c(2,6,3,4,5,1)])
vpiStackC<- ggplot(vpiData3.bis, aes(x = timePoint, y = abundance))+
geom_bar(aes(fill = factor(class)), position = position_stack(reverse = TRUE), stat = 'identity', color = 'black', alpha = 0.8)+
ylim(0,100)+
labs(y = "Relative Abundance (%)", fill = "Class", title = "Relative Species Abundance > 1%")+
scale_x_discrete(labels = c("Baseline", "12 Month"))+
#scale_y_reverse()+
facet_wrap(.~Site, scales = 'free_x')
vpiStackC <- vpiStackC+theme(
axis.text.x = element_text(size = 15, colour = "black", vjust = 0.5, hjust = 0.5, face= "bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size = 40, face = "bold"),
axis.text.y = element_text(colour = "black", size = 30, face = "bold"),
legend.title = element_text(size = 40, face = "bold"),
legend.text = element_text(size = 36, face = "bold", colour = "black"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid', colour = "white"),
panel.background = element_rect(fill = '#F5F5F5'),
plot.title = element_text(size = 40, face = "bold"),
axis.line = element_line(colour = "black"),
axis.ticks = element_line(color="black"),
text = element_text(size=40, color="black"),
legend.position = "right")
vpiStackC
ggsave("../figures/apalBISStackPlot2.png", plot = vpiStack, width = 20, height = 15, units = 'in', dpi = 600)
# ggsave("C:/Users/gdalonzo/Documents/AMLC/figures", plot = vpiStack, width = 20, height = 15, units = "in", dpi = 600)
ggsave("../figures/apalBISStackPlot2.png", plot = vpiStackC, width = 20, height = 15, units = 'in', dpi = 600)
ggsave("../figures/acerStackPlot2.png", plot = vpiStackA, width = 20, height = 15, units = 'in', dpi = 600)
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tagStack1 <- ggplot(tagData2, aes(x = Site, y = Area, fill = TagLab.Class.name))+
geom_bar(stat = 'identity', color = 'black', position = position_stack(reverse = TRUE), alpha = 0.8)+
ylim(0,100)+
labs(y = "Area", fill = "Species", title = "2D Surface Area")+
scale_fill_manual(values = myColors)+
facet_grid(.~ time)
tagStack <- tagStack1+theme(
axis.text.x = element_text(size = 40, colour = "black", vjust = 0.5, hjust = 0.5, face= "bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size = 40, face = "bold"),
axis.text.y = element_text(colour = "black", size = 40, face = "bold"),
legend.title = element_text(size = 40, face = "bold"),
legend.text = element_text(size = 30, colour = "black"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid', colour = "white"),
panel.background = element_rect(fill = '#F5F5F5'),
plot.title = element_text(size = 40, face = "bold"),
axis.line = element_line(colour = "black"),
axis.ticks = element_line(color="black"),
text = element_text(size=40, color="black"),
legend.position = "right")
tagStack
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tagStack1 <- ggplot(tagData2, aes(x = Site, y = Area, fill = TagLab.Class.name))+
geom_bar(stat = 'identity', color = 'black', position = position_stack(reverse = TRUE), alpha = 0.8)+
ylim(0,100)+
labs(y = "Area", fill = "Species", title = "2D Surface Area")+
scale_fill_manual(values = myColors)+
facet_grid(.~ Area)
tagStack <- tagStack1+theme(
axis.text.x = element_text(size = 40, colour = "black", vjust = 0.5, hjust = 0.5, face= "bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size = 40, face = "bold"),
axis.text.y = element_text(colour = "black", size = 40, face = "bold"),
legend.title = element_text(size = 40, face = "bold"),
legend.text = element_text(size = 30, colour = "black"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid', colour = "white"),
panel.background = element_rect(fill = '#F5F5F5'),
plot.title = element_text(size = 40, face = "bold"),
axis.line = element_line(colour = "black"),
axis.ticks = element_line(color="black"),
text = element_text(size=40, color="black"),
legend.position = "right")
tagStack
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tagStack1 <- ggplot(tagData2, aes(x = Site, y = Area, fill = TagLab.Class.name))+
geom_bar(stat = 'identity', color = 'black', position = position_stack(reverse = TRUE), alpha = 0.8)+
ylim(0,100)+
labs(y = "Area", fill = "Species", title = "2D Surface Area")+
scale_fill_manual(values = myColors)+
facet_grid(.~ Area)
tagStack <- tagStack1+theme(
axis.text.x = element_text(size = 40, colour = "black", vjust = 0.5, hjust = 0.5, face= "bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size = 40, face = "bold"),
axis.text.y = element_text(colour = "black", size = 40, face = "bold"),
legend.title = element_text(size = 40, face = "bold"),
legend.text = element_text(size = 30, colour = "black"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid', colour = "white"),
panel.background = element_rect(fill = '#F5F5F5'),
plot.title = element_text(size = 40, face = "bold"),
axis.line = element_line(colour = "black"),
axis.ticks = element_line(color="black"),
text = element_text(size=40, color="black"),
legend.position = "right")
tagStack
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tagStack1 <- ggplot(tagData1, aes(x = Site, y = Area, fill = TagLab.Class.name))+
geom_bar(stat = 'identity', color = 'black', position = position_stack(reverse = TRUE), alpha = 0.8)+
ylim(0,100)+
labs(y = "Area", fill = "Species", title = "2D Surface Area")+
scale_fill_manual(values = myColors)+
facet_grid(.~ Area)
tagStack <- tagStack1+theme(
axis.text.x = element_text(size = 40, colour = "black", vjust = 0.5, hjust = 0.5, face= "bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size = 40, face = "bold"),
axis.text.y = element_text(colour = "black", size = 40, face = "bold"),
legend.title = element_text(size = 40, face = "bold"),
legend.text = element_text(size = 30, colour = "black"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid', colour = "white"),
panel.background = element_rect(fill = '#F5F5F5'),
plot.title = element_text(size = 40, face = "bold"),
axis.line = element_line(colour = "black"),
axis.ticks = element_line(color="black"),
text = element_text(size=40, color="black"),
legend.position = "right")
tagStack
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tagStack1 <- ggplot(tagData1, aes(x = Site, y = TagLab.Area, fill = TagLab.Class.name))+
geom_bar(stat = 'identity', color = 'black', position = position_stack(reverse = TRUE), alpha = 0.8)+
ylim(0,100)+
labs(y = "Area", fill = "Species", title = "2D Surface Area")+
scale_fill_manual(values = myColors)+
facet_grid(.~ Area)
tagStack <- tagStack1+theme(
axis.text.x = element_text(size = 40, colour = "black", vjust = 0.5, hjust = 0.5, face= "bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size = 40, face = "bold"),
axis.text.y = element_text(colour = "black", size = 40, face = "bold"),
legend.title = element_text(size = 40, face = "bold"),
legend.text = element_text(size = 30, colour = "black"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid', colour = "white"),
panel.background = element_rect(fill = '#F5F5F5'),
plot.title = element_text(size = 40, face = "bold"),
axis.line = element_line(colour = "black"),
axis.ticks = element_line(color="black"),
text = element_text(size=40, color="black"),
legend.position = "right")
tagStack
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tagStack1 <- ggplot(tagData1, aes(x = Site, y = TagLab.Area, fill = TagLab.Class.name))+
geom_bar(stat = 'identity', color = 'black', position = position_stack(reverse = TRUE), alpha = 0.8)+
ylim(0,100)+
labs(y = "TagLab.Area", fill = "TagLab.Class.name", title = "2D Surface Area")+
scale_fill_manual(values = myColors)+
facet_grid(.~ Area)
tagStack <- tagStack1+theme(
axis.text.x = element_text(size = 40, colour = "black", vjust = 0.5, hjust = 0.5, face= "bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size = 40, face = "bold"),
axis.text.y = element_text(colour = "black", size = 40, face = "bold"),
legend.title = element_text(size = 40, face = "bold"),
legend.text = element_text(size = 30, colour = "black"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid', colour = "white"),
panel.background = element_rect(fill = '#F5F5F5'),
plot.title = element_text(size = 40, face = "bold"),
axis.line = element_line(colour = "black"),
axis.ticks = element_line(color="black"),
text = element_text(size=40, color="black"),
legend.position = "right")
tagStack
View(tagData2)
View(tagData2)
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tagStack1 <- ggplot(tagData2, aes(x = Site, y = Area, fill = Species))+
geom_bar(stat = 'identity', color = 'black', position = position_stack(reverse = TRUE), alpha = 0.8)+
ylim(0,100)+
labs(y = "Area", fill = "Species", title = "2D Surface Area")+
scale_fill_manual(values = myColors)+
facet_grid(.~ Area)
tagStack <- tagStack1+theme(
axis.text.x = element_text(size = 40, colour = "black", vjust = 0.5, hjust = 0.5, face= "bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size = 40, face = "bold"),
axis.text.y = element_text(colour = "black", size = 40, face = "bold"),
legend.title = element_text(size = 40, face = "bold"),
legend.text = element_text(size = 30, colour = "black"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid', colour = "white"),
panel.background = element_rect(fill = '#F5F5F5'),
plot.title = element_text(size = 40, face = "bold"),
axis.line = element_line(colour = "black"),
axis.ticks = element_line(color="black"),
text = element_text(size=40, color="black"),
legend.position = "right")
tagStack
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tagStack1 <- ggplot(tagData2, aes(x = Site, y = Area, fill = Species))+
geom_bar(stat = 'identity', color = 'black', position = position_stack(reverse = TRUE), alpha = 0.8)+
ylim(0,100)+
labs(y = "Area", fill = "Species", title = "2D Surface Area")+
scale_fill_manual(values = myColors)+
facet_grid(.~ Site)
tagStack <- tagStack1+theme(
axis.text.x = element_text(size = 40, colour = "black", vjust = 0.5, hjust = 0.5, face= "bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size = 40, face = "bold"),
axis.text.y = element_text(colour = "black", size = 40, face = "bold"),
legend.title = element_text(size = 40, face = "bold"),
legend.text = element_text(size = 30, colour = "black"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid', colour = "white"),
panel.background = element_rect(fill = '#F5F5F5'),
plot.title = element_text(size = 40, face = "bold"),
axis.line = element_line(colour = "black"),
axis.ticks = element_line(color="black"),
text = element_text(size=40, color="black"),
legend.position = "right")
tagStack
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tagStack1 <- ggplot(tagData2, aes(x = Site, y = Area, fill = Species))+
geom_bar(stat = 'identity', color = 'black', position = position_stack(reverse = TRUE), alpha = 0.8)+
ylim(0,100)+
labs(y = "Area", fill = "Species", title = "2D Surface Area")+
scale_fill_manual(values = myColors)+
facet_wrap(.~ Site)
tagStack <- tagStack1+theme(
axis.text.x = element_text(size = 40, colour = "black", vjust = 0.5, hjust = 0.5, face= "bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size = 40, face = "bold"),
axis.text.y = element_text(colour = "black", size = 40, face = "bold"),
legend.title = element_text(size = 40, face = "bold"),
legend.text = element_text(size = 30, colour = "black"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid', colour = "white"),
panel.background = element_rect(fill = '#F5F5F5'),
plot.title = element_text(size = 40, face = "bold"),
axis.line = element_line(colour = "black"),
axis.ticks = element_line(color="black"),
text = element_text(size=40, color="black"),
legend.position = "right")
tagStack
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tagStack1 <- ggplot(tagData2, aes(x = Date, y = Area, fill = Species))+
geom_bar(stat = 'identity', color = 'black', position = position_stack(reverse = TRUE), alpha = 0.8)+
ylim(0,100)+
labs(y = "Area", fill = "Species", title = "2D Surface Area")+
scale_fill_manual(values = myColors)+
facet_wrap(.~ Site)
tagStack <- tagStack1+theme(
axis.text.x = element_text(size = 40, colour = "black", vjust = 0.5, hjust = 0.5, face= "bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size = 40, face = "bold"),
axis.text.y = element_text(colour = "black", size = 40, face = "bold"),
legend.title = element_text(size = 40, face = "bold"),
legend.text = element_text(size = 30, colour = "black"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid', colour = "white"),
panel.background = element_rect(fill = '#F5F5F5'),
plot.title = element_text(size = 40, face = "bold"),
axis.line = element_line(colour = "black"),
axis.ticks = element_line(color="black"),
text = element_text(size=40, color="black"),
legend.position = "right")
tagStack
View(tagApal)
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tagStack1 <- ggplot(tagApal, aes(x = Date, y = Area, fill = Species))+
geom_bar(stat = 'identity', color = 'black', position = position_stack(reverse = TRUE), alpha = 0.8)+
ylim(0,100)+
labs(y = "Area", fill = "Species", title = "2D Surface Area")+
scale_fill_manual(values = myColors)+
facet_wrap(.~ Site)
tagStack <- tagStack1+theme(
axis.text.x = element_text(size = 40, colour = "black", vjust = 0.5, hjust = 0.5, face= "bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size = 40, face = "bold"),
axis.text.y = element_text(colour = "black", size = 40, face = "bold"),
legend.title = element_text(size = 40, face = "bold"),
legend.text = element_text(size = 30, colour = "black"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid', colour = "white"),
panel.background = element_rect(fill = '#F5F5F5'),
plot.title = element_text(size = 40, face = "bold"),
axis.line = element_line(colour = "black"),
axis.ticks = element_line(color="black"),
text = element_text(size=40, color="black"),
legend.position = "right")
tagStack
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tagStack1 <- ggplot(tagApal, aes(x = Date, y = Area, fill = Species))+
geom_bar(stat = 'identity', color = 'black', position = position_stack(reverse = TRUE), alpha = 0.8)+
ylim(0,100)+
labs(y = "Area", fill = "Species", title = "2D Surface Area")+
scale_fill_manual(values = myColors)+
scale_x_discrete(guide = guide_axis(angle = 45)) +
facet_wrap(.~ Site)
tagStack <- tagStack1+theme(
axis.text.x = element_text(size = 40, colour = "black", vjust = 0.5, hjust = 0.5, face= "bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size = 40, face = "bold"),
axis.text.y = element_text(colour = "black", size = 40, face = "bold"),
legend.title = element_text(size = 40, face = "bold"),
legend.text = element_text(size = 30, colour = "black"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid', colour = "white"),
panel.background = element_rect(fill = '#F5F5F5'),
plot.title = element_text(size = 40, face = "bold"),
axis.line = element_line(colour = "black"),
axis.ticks = element_line(color="black"),
text = element_text(size=40, color="black"),
legend.position = "right")
tagStack
# ggsave("../figures/tagStackBar.png", plot = tagStack, width = 20, height = 15, units = 'in', dpi = 600)
# ggsave("../figures/tagStackBar.jpeg", plot = tagStack, width = 20, height = 15, units = "in", dpi = 600)
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tagStack1 <- ggplot(tagApal, aes(x = Date, y = Area, fill = Species))+
geom_bar(stat = 'identity', color = 'black', position = position_stack(reverse = TRUE), alpha = 0.8)+
ylim(0,100)+
labs(y = "Area", fill = "Species", title = "2D Surface Area")+
scale_fill_manual(values = myColors)+
scale_x_discrete(guide = guide_axis(angle = 135)) +
facet_wrap(.~ Site)
tagStack <- tagStack1+theme(
axis.text.x = element_text(size = 40, colour = "black", vjust = 0.5, hjust = 0.5, face= "bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size = 40, face = "bold"),
axis.text.y = element_text(colour = "black", size = 40, face = "bold"),
legend.title = element_text(size = 40, face = "bold"),
legend.text = element_text(size = 30, colour = "black"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid', colour = "white"),
panel.background = element_rect(fill = '#F5F5F5'),
plot.title = element_text(size = 40, face = "bold"),
axis.line = element_line(colour = "black"),
axis.ticks = element_line(color="black"),
text = element_text(size=40, color="black"),
legend.position = "right")
tagStack
myColors <- paletteer_c("pals::ocean.balance", 10, direction = 1)
tagStack1 <- ggplot(tagApal, aes(x = Date, y = Area, fill = Species))+
geom_bar(stat = 'identity', color = 'black', position = position_stack(reverse = TRUE), alpha = 0.8)+
ylim(0,100)+
labs(y = "Area", fill = "Species", title = "2D Surface Area")+
scale_fill_manual(values = myColors)+
scale_x_discrete(guide = guide_axis(angle = 90)) +
facet_wrap(.~ Site)
tagStack <- tagStack1+theme(
axis.text.x = element_text(size = 40, colour = "black", vjust = 0.5, hjust = 0.5, face= "bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size = 40, face = "bold"),
axis.text.y = element_text(colour = "black", size = 40, face = "bold"),
legend.title = element_text(size = 40, face = "bold"),
legend.text = element_text(size = 30, colour = "black"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid', colour = "white"),
panel.background = element_rect(fill = '#F5F5F5'),
plot.title = element_text(size = 40, face = "bold"),
axis.line = element_line(colour = "black"),
axis.ticks = element_line(color="black"),
text = element_text(size=40, color="black"),
legend.position = "right")
tagStack
# ggsave("../figures/tagStackBar.png", plot = tagStack, width = 20, height = 15, units = 'in', dpi = 600)
# ggsave("../figures/tagStackBar.jpeg", plot = tagStack, width = 20, height = 15, units = "in", dpi = 600)
